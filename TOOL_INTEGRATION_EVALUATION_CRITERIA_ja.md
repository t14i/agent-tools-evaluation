# Tool統合 / MCP 評価マスタ

> **設計根拠**
>
> - MCP (Model Context Protocol) Specification: Anthropic提唱のTool統合標準プロトコル
> - OpenAPI / AsyncAPI: 既存のAPI記述標準との互換性
> - OAuth 2.0 / OIDC: 認証・認可の業界標準
> - OWASP API Security Top 10: API セキュリティのベストプラクティス
> - Composio / Arcade / MCP Server群の実装パターン

---

## 本評価マスタの対象

本マスタは「LLMが決めたアクションを外部システムで安全・確実に実行する」ための
Tool統合レイヤーを評価する。

### 評価対象の例

| 種別 | 例 | 性質 |
|------|-----|------|
| Tool統合プラットフォーム | Composio, Arcade | SaaS統合を束ねるマネージドサービス |
| プロトコル仕様 | MCP (Model Context Protocol) | ツール接続の標準インターフェース |
| プロトコル実装群 | MCP Server群 (GitHub, Slack, DB等) | 個別サービスへのMCPアダプタ |
| Agent Framework内蔵ツール | LangChain Tools, CrewAI Tools | フレームワーク組み込みのツール層 |

### 評価Mode

対象の性質が根本的に異なるため、評価時に **Mode** を明示する。Modeによって一部項目は **N/A（評価対象外）** となり、減点ではなくスコープ外として扱う。

| Mode | 対象 | 例 |
|------|------|-----|
| `protocol` | プロトコル仕様そのもの | MCP Specification |
| `platform` | ツール統合SaaS | Composio, Arcade |
| `server` | 個別のコネクタ実装 | MCP Server群 (GitHub, Slack等) |
| `embedded` | フレームワーク内蔵ツール | LangChain Tools, CrewAI Tools |

**Hybrid構成の扱い**: 企業の実運用では「Composio (platform) + 自社MCP Server (server) + LangGraph (embedded)」のような全部盛り構成が一般的。この場合、**Primary Mode** で主たる評価対象を定め、**Secondary Components** で副次的な構成要素を記録する。採点対象はPrimary Modeに限定し、Secondary Componentsの品質問題がPrimary側の評価に混入しないよう注意する。

**N/Aの扱い**: N/A項目はスコア集計から除外する。分母（総項目数）から差し引くことで、スコープ外の機能がないことによる不当な低評価を防ぐ。

### Durable Execution評価マスタとの関係

DE評価マスタの AI-06（Tool実行の耐障害性）は「DEランタイムがツール呼び出しをどう保護するか」を評価する。
本マスタは「ツール呼び出し自体の品質」を評価する。責務は以下の通り分離される:

| 関心事 | DE評価マスタ (AI-06等) | 本マスタ |
|--------|----------------------|---------|
| リトライ・タイムアウト | DEランタイムが管理 | ツール側のリトライ挙動 |
| 認証管理 | 対象外 | **主要評価対象** |
| スキーマ変換 | 対象外 | **主要評価対象** |
| 権限制御 | 対象外 | **主要評価対象** |
| 実行の永続化 | **主要評価対象** | 対象外 |

---

## 星評価の基準（全項目共通）

| 星 | ラベル | 定義 | 判定基準 |
|----|--------|------|----------|
| ⭐ | 未対応 | 機能がない、または壊れている | ドキュメントに記載なし、実装しても動かない、完全に自前実装が必要 |
| ⭐⭐ | 実験的 | 動くが制約が大きく、PoCでも苦労する | 動作はするがハマりどころ多い、ドキュメント不足、APIが不安定 |
| ⭐⭐⭐ | PoC可 | 基本動作OK、デモには使えるが本番には追加実装が必要 | 主要ケースは動く、エッジケースに弱い、監視・ログ等は自前 |
| ⭐⭐⭐⭐ | 本番可 | 実用的、多少のカスタマイズで本番投入できる | 安定動作、ドキュメント充実、本番事例あり、軽微なカスタマイズで済む |
| ⭐⭐⭐⭐⭐ | 本番推奨 | そのまま本番で使える、ベストプラクティスが確立 | 大規模本番事例あり、エコシステム成熟、運用ノウハウが蓄積 |

### 判定のポイント

- **⭐⭐⭐ → ⭐⭐⭐⭐ の壁**: 「PoCから本番に持っていく時に何が必要か」が明確かどうか
- **⭐⭐⭐⭐ → ⭐⭐⭐⭐⭐ の壁**: 「自分で考えなくてもベストプラクティスがある」かどうか
- 「機能がそもそもない」は ⭐（Not Goodセクションに分類）
- 「あるけど使い物にならない」は ⭐⭐

### フェイルクローズルール

以下の項目が **⭐⭐ 以下** の場合、他カテゴリの平均が高くても **総合評価の上限は ⭐⭐** とする。
ただし、**当該Modeで N/A の項目はフェイルクローズの対象外**とする。

| 必須項目 | 理由 | 適用Mode |
|---------|------|---------|
| TC-01 ツールカタログ / 発見 | ツールを見つけられなければ始まらない | `platform`, `server` |
| AU-01 認証フロー管理 | 認証なしで本番APIは呼べない | `platform` (常に必須), `server` (外部SaaS統合時) |
| AU-06 Credential Boundary | 実行主体が曖昧だと権限すり抜け（Confused Deputy）が起きる | `platform` (常に必須), `server` (常に必須) |
| EX-01 呼び出し信頼性 | ツール呼び出しが失敗し続けるなら使えない | `platform`, `server`, `embedded` |
| SC-01 入出力スキーマ | スキーマがなければLLMがツールを正しく使えない | 全Mode |
| SF-01 権限スコープ | 制限なくAPIを叩けるのは本番で事故になる | `platform` (常に必須), `server` (本番利用時) |

**Modeごとのフェイルクローズ適用マトリクス**:

| 必須項目 | `protocol` | `platform` | `server` | `embedded` |
|---------|-----------|-----------|---------|-----------|
| TC-01 | N/A | ✅ 必須 | ✅ 必須 | あれば加点 |
| AU-01 | N/A | ✅ 必須 | 条件付き必須 | あれば加点 |
| AU-06 | N/A | ✅ 必須 | ✅ 必須 | あれば加点 |
| EX-01 | N/A | ✅ 必須 | ✅ 必須 | ✅ 必須 |
| SC-01 | ✅ 必須 | ✅ 必須 | ✅ 必須 | ✅ 必須 |
| SF-01 | N/A | ✅ 必須 | 条件付き必須 | あれば加点 |

> **補足**: `protocol` Modeではプロトコル仕様としてのスキーマ定義力（SC-01）のみがフェイルクローズ対象。認証・カタログ等の運用レイヤーはプロトコルの責務外のためN/A。

---

## 前提パラメータ（評価テンプレートの冒頭に記録）

Tool統合の評価は、Primary Mode・統合対象・認証の複雑さ等によって結果が変わる。評価時に必ず記録する。

| パラメータ | 内容 | 例 |
|-----------|------|-----|
| **Primary Mode** | 主たる評価対象の種別 | `protocol` / `platform` / `server` / `embedded` |
| **Secondary Components** | 副次的な構成要素とそのMode | 自社MCP Server=`server`, LangGraph=`embedded` / なし |
| **Integration Targets** | 統合対象の外部サービス | SaaS (Slack, GitHub等) / DB / 内部API / ファイルシステム |
| **Auth Complexity** | 認証の複雑さ | API Key のみ / OAuth 2.0 / SAML / マルチテナント |
| **Agent Framework** | 組み合わせるAgentフレームワーク | LangGraph / CrewAI / OpenAI SDK / Smooth / 直接利用 |
| **Deployment** | デプロイ形態 | マネージドクラウド / セルフホスト / ライブラリ組み込み |
| **Scale** | 同時ツール呼び出し数 | 〜100 / 〜10K / 100K+ |
| **Trust Boundary** | 信頼境界 | 社内のみ / 顧客データを扱う / 金融・医療等の規制領域 |
| **Language** | SDK言語 | Python / TypeScript / Go 等 |

---

## 評価カテゴリ・項目マスタ

### カテゴリ一覧

| ID | カテゴリ | 責務（一行定義） | 層 |
|----|---------|----------------|-----|
| TC | Tool Catalog | **発見性**: ツールの検索・登録・メタデータ管理 | コア |
| SC | Schema & Contract | **正確性**: 入出力スキーマ・型安全性・バリデーション・仕様適合 | コア |
| AU | Authentication & Authorization | **安全性**: 認証フロー・トークン管理・権限委譲・実行主体の確定 | 安全 |
| SF | Safety & Guardrails | **防護性**: 権限スコープ・実行制限・人間承認・通信制御 | 安全 |
| EX | Execution | **信頼性**: 呼び出し信頼性・エラーハンドリング・冪等性 | 実行 |
| CM | Composability | **構成力**: ツール間連携・データ受け渡し・ワークフロー構築 | 機能 |
| IT | Interoperability | **互換性**: MCP準拠・マルチフレームワーク対応・標準準拠 | 接続 |
| OB | Observability | **可視性**: ツール呼び出しのトレース・監査・コスト追跡 | 運用 |
| DX | Developer Experience | **生産性**: SDK設計・カスタムツール作成・テスト・ドキュメント | 体験 |
| OP | Operations | **運用性**: デプロイ・バージョニング・スケール・マルチテナント | 運用 |

---

### 項目マスタ（全ツール共通）

#### TC: Tool Catalog

**責務: 発見性** — ツールの検索・登録・メタデータ管理

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| TC-01 | ツールカタログ / 発見 | 利用可能なツール一覧の取得、検索、フィルタリング。LLMがツールを選択するための情報が十分か | platform: 必須 / server: 必須 / protocol: N/A / embedded: 任意 |
| TC-02 | ツール説明の品質 | ツールの説明文・パラメータ説明がLLMに理解しやすいか。曖昧な説明でLLMが誤使用しないか | 全Mode |
| TC-03 | カタログ規模 / カバレッジ | 対応する外部サービスの数と主要SaaSのカバー率 | platform: 必須 / server: 任意 / protocol: N/A / embedded: 任意 |
| TC-04 | カスタムツール登録 | 独自ツールの追加方法、登録の容易さ、メタデータの拡張性 | 全Mode |

#### SC: Schema & Contract

**責務: 正確性** — 入出力スキーマ・型安全性・バリデーション・仕様適合

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| SC-01 | 入出力スキーマ | ツールの引数・戻り値のスキーマ定義（JSON Schema / Pydantic / Zod等）。LLMがパラメータを正しく構築できるか | 全Mode（フェイルクローズ対象） |
| SC-02 | バリデーション | 入力値のバリデーション（型チェック・範囲・必須項目）。LLMが不正な値を渡した時の挙動 | 全Mode |
| SC-03 | スキーマ進化 | APIバージョンアップ時のスキーマ変更への耐性。後方互換性の保証 | 全Mode |
| SC-04 | エラースキーマ | エラー応答のスキーマ定義。LLMがエラーを理解して次のアクションを判断できるか | 全Mode |
| SC-05 | Spec ↔ Runtime適合 | OpenAPI/Schemaと実際のAPI応答のズレを検知できるか。検知主体の明確さ（ツール側の自己申告 / Platformの監視 / CI上のcontract test）。スキーマ違反時にAgentに対して構造化されたエラー（ただの500ではなく、違反箇所・期待型・実際の値を含む）としてフィードバックが返るか | platform: 必須 / server: 必須 / protocol: 任意 / embedded: 任意 |

#### AU: Authentication & Authorization

**責務: 安全性** — 認証フロー・トークン管理・権限委譲・実行主体の確定

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| AU-01 | 認証フロー管理 | OAuth 2.0 / API Key / Bearer Token等の認証フローの管理。ユーザー毎の認証情報の保持 | platform: 必須 / server: 条件付き / protocol: N/A / embedded: 任意 |
| AU-02 | トークンライフサイクル | アクセストークンのリフレッシュ・失効・再取得の自動化 | platform, server |
| AU-03 | マルチユーザー認証 | 複数ユーザーの認証情報を安全に分離して管理できるか | platform, server |
| AU-04 | 認証情報の保管 | シークレットの暗号化保管、外部Vault統合（AWS Secrets Manager等）からの動的取得、BYOK（Bring Your Own Key）対応、ローテーション間隔の管理。Platform型ではSaaS側にクレデンシャルを保存しない選択肢があるか | platform, server |
| AU-05 | 権限委譲 (Delegation) | ユーザーの代理としてAPI操作する際の権限スコープの制御。最小権限の原則 | platform, server |
| AU-06 | Credential Boundary | 「誰の資格情報で実行されたか」を常に確定できるか。impersonation / service account / delegationの混同を防ぐ仕組み | platform: 必須 / server: 必須 / protocol: N/A / embedded: 任意 |

**AU-01 採点基準（段階定義）**:

| 星 | 判定基準 |
|----|---------|
| ⭐ | 認証管理機構なし。開発者がトークンをハードコードする必要あり |
| ⭐⭐ | API Keyの手動設定のみ。OAuth等の複雑なフローは未対応 |
| ⭐⭐⭐ | OAuth 2.0の基本フロー（Authorization Code）に対応。リフレッシュは手動 |
| ⭐⭐⭐⭐ | OAuth 2.0 + 自動リフレッシュ + マルチユーザー対応。主要SaaSの認証が設定済み |
| ⭐⭐⭐⭐⭐ | フルマネージド認証。ユーザー毎のOAuth、自動リフレッシュ、失効検知、Vault統合が標準 |

**AU-06 採点基準（段階定義）**:

| 星 | 判定基準 |
|----|---------|
| ⭐ | 実行主体の区別なし。全リクエストが同一service accountで発行される |
| ⭐⭐ | ユーザー単位のAPI Keyは使えるが、ログ上で誰の操作か追跡困難 |
| ⭐⭐⭐ | 実行主体がリクエスト単位で記録される。ただしimpersonationとdelegationの区別が曖昧 |
| ⭐⭐⭐⭐ | 実行主体・委譲元・service accountが明確に分離。監査ログで完全追跡可能 |
| ⭐⭐⭐⭐⭐ | 動的な実行主体解決 + ポリシーエンジン連携。コンテキスト依存で資格情報を切り替え、全操作のprovenance（来歴）が不変ログに記録 |

#### SF: Safety & Guardrails

**責務: 防護性** — 権限スコープ・実行制限・人間承認・通信制御

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| SF-01 | 権限スコープ | ツール/アクション単位での実行許可・拒否。読み取り専用/書き込み可の分離 | platform: 必須 / server: 条件付き / protocol: N/A / embedded: 任意 |
| SF-02 | レート制限 / コスト制御 | API呼び出し回数の制限、コスト上限の設定。LLMの暴走によるAPI枯渇の防止 | 全Mode |
| SF-03 | 人間承認 (HITL) | 危険な操作（削除・送金等）の実行前に人間の承認を挟む仕組み | platform, server |
| SF-04 | 入力サニタイゼーション | LLMが生成したパラメータのサニタイズ。インジェクション防止（SQL / コマンド / プロンプト） | 全Mode |
| SF-05 | 実行ログ / 監査証跡 | 誰が・いつ・どのツールを・どのパラメータで呼んだかの不変ログ | 全Mode |
| SF-06 | Egress / Domain制御 | ツールがHTTP先を自由に叩ける場合の暴走・情報漏洩の防止。allowlist / denylist / sandboxの有無。**SSRF対策**としてローカルネットワーク（`localhost`, `169.254.169.254`等のクラウドメタデータエンドポイント、プライベートIPレンジ）へのアクセス遮断がネットワークレベルで保証されているか | platform: 必須 / server: 必須 / protocol: 任意 / embedded: 任意 |

**SF-01 採点基準（段階定義）**:

| 星 | 判定基準 |
|----|---------|
| ⭐ | 権限制御なし。全ツール・全アクションが無制限で実行可能 |
| ⭐⭐ | ツール単位の有効/無効のみ。アクション粒度の制御なし |
| ⭐⭐⭐ | アクション単位の許可/拒否。ただしパラメータレベルの制限なし |
| ⭐⭐⭐⭐ | アクション + パラメータレベルの制限（例: read-only scope, 特定リポジトリのみ）。ロールベース |
| ⭐⭐⭐⭐⭐ | 動的ポリシーエンジン。コンテキスト依存の権限（時間帯、リスクスコア、承認フロー連携） |

**SF-06 採点基準（段階定義）**:

| 星 | 判定基準 |
|----|---------|
| ⭐ | Egress制御なし。ツールが任意のHTTPエンドポイント（localhost・メタデータエンドポイント含む）にアクセス可能 |
| ⭐⭐ | ドキュメント上で推奨事項の記載があるが、ランタイムでの強制なし |
| ⭐⭐⭐ | 静的なallowlist/denylistを設定可能。ローカルネットワーク/メタデータエンドポイント（`169.254.169.254`等）へのアクセスがデフォルトで遮断 |
| ⭐⭐⭐⭐ | ツール定義単位でegressを制限可能。設定変更にデプロイ不要、監視あり。ネットワークレベルでのSSRF対策が実装済み |
| ⭐⭐⭐⭐⭐ | 動的egress制御 + 異常検知。未知ドメインへのリクエストをブロック/アラート、sandbox実行対応。プライベートIPレンジ全体のブロックがネットワークポリシーで強制 |

#### EX: Execution

**責務: 信頼性** — 呼び出し信頼性・エラーハンドリング・冪等性

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| EX-01 | 呼び出し信頼性 | ツール呼び出しの成功率、タイムアウト処理、接続エラーのハンドリング | 全Mode（フェイルクローズ対象。protocol Modeを除く） |
| EX-02 | エラーハンドリング | API エラー（4xx/5xx）の分類・LLMへの伝達。リトライ可能/不可能の判別 | 全Mode |
| EX-03 | 冪等性サポート | ツール側のidempotency key対応。重複実行の防止機構 | platform, server |
| EX-04 | 非同期実行 | 長時間ツール操作（ファイル処理、バッチ操作等）の非同期実行とポーリング/コールバック | platform, server |

**EX-01 必須Evidence（採点の再現性を担保）**:

備考欄に以下の定量データを必須で記載する。これがない場合、採点は暫定扱いとする。

| Evidence項目 | 内容 | 例 |
|-------------|------|-----|
| `Repro: 成功率` | 100回呼び出しの成功率 | 97/100 (97%) |
| `Repro: p95 latency` | 95パーセンタイルのレイテンシ | p95 = 1.2s |
| `Repro: timeout率` | タイムアウトの発生率 | 1/100 (1%) |
| `Error breakdown` | エラーの内訳 | 4xx: 1, 5xx: 1, timeout: 1 |
| `Test conditions` | テスト条件（対象API、時間帯、同時接続数） | GitHub API, 平日日中, 並列度1 |

#### CM: Composability

**責務: 構成力** — ツール間連携・データ受け渡し・ワークフロー構築

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| CM-01 | ツール間データ受け渡し | あるツールの出力を別のツールの入力に渡すパターン。型変換・マッピングの自動化 | 全Mode |
| CM-02 | マルチツールオーケストレーション | 複数ツールの順次/並列実行の制御。エラー時のフォールバック | platform, embedded |
| CM-03 | コンテキスト伝搬 | ユーザーID・セッションID・トレースID等のコンテキスト情報がツール間で維持されるか | 全Mode |
| CM-04 | 動的ツール選択 | 実行時の条件に応じたツールの動的選択・切り替え。LLMによるツール選択とプログラマティックな選択の両立 | platform, embedded |

#### IT: Interoperability

**責務: 互換性** — MCP準拠・マルチフレームワーク対応・標準準拠

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| IT-01 | MCP準拠 | Model Context Protocolへの対応度。MCP Client/Server として機能するか | 全Mode |
| IT-02 | マルチフレームワーク対応 | LangChain / CrewAI / OpenAI SDK / Vercel AI SDK等、複数のAgent Frameworkとの統合 | platform, embedded |
| IT-03 | OpenAPI / REST統合 | 既存のOpenAPI仕様からツールを自動生成できるか | platform, server |
| IT-04 | A2A (Agent-to-Agent) | Google A2Aプロトコル等、エージェント間通信プロトコルへの対応 | 全Mode |

**IT-01 採点基準（段階定義）** — コア機能と拡張機能を分離:

| 星 | 層 | 判定基準 |
|----|-----|---------|
| ⭐ | — | MCP非対応。独自プロトコルのみ |
| ⭐⭐ | — | MCP対応を表明しているが、実装が部分的またはラッパー経由 |
| ⭐⭐⭐ | **コア** | MCP Server/Client として基本動作する。`tools/list`, `tools/call` に対応。最低1つのTransport（Stdio or SSE）をサポート |
| ⭐⭐⭐⭐ | **実務拡張** | `resources` に対応。MCP Server群との相互運用が確認済み。複数のTransport Layer（Stdio / SSE / WebSocket等）に対応し、デプロイ形態（Dockerコンテナ、リモートホスト等）に柔軟 |
| ⭐⭐⭐⭐⭐ | **フル拡張** | `prompts`, `sampling` にも対応 + MCPバージョン追従体制 + 互換性検証の仕組みあり。MCP Registryとの統合。Transport Layerの追加が拡張可能 |

> **補足**: ⭐⭐⭐（コア）を「十分な対応」の基準線とする。`prompts` / `sampling` を使わない採用パターンにおいて ⭐⭐⭐⭐ 未満が不当な低評価にならないよう、段階定義をコア/実務拡張/フル拡張で明示した。

#### OB: Observability

**責務: 可視性** — ツール呼び出しのトレース・監査・コスト追跡

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| OB-01 | 呼び出しトレース | ツール呼び出しの入出力・レイテンシ・成否のトレーシング | 全Mode |
| OB-02 | コスト追跡 | API呼び出しコスト（トークン消費・API課金）の集計・可視化 | platform |
| OB-03 | 監査ログ | 不変の監査ログ。コンプライアンス要件への対応 | platform, server |
| OB-04 | OTel統合 | OpenTelemetryスパン/メトリクスとしてのエクスポート。既存のObservabilityスタックとの統合 | 全Mode |

#### DX: Developer Experience

**責務: 生産性** — SDK設計・カスタムツール作成・テスト・ドキュメント

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| DX-01 | SDK設計 | APIのシンプルさ、型安全性、IDEサポート（補完・型チェック） | 全Mode |
| DX-02 | カスタムツール作成 | 独自ツールの定義方法。ボイラープレートの少なさ、テンプレート/ジェネレータの有無 | 全Mode |
| DX-03 | テスト / モック | ツール呼び出しのモック、ドライラン、サンドボックス環境 | 全Mode |
| DX-04 | ドキュメント | ドキュメントの品質・網羅性・サンプルコードの充実度 | 全Mode |
| DX-05 | ローカル開発 | ローカルでのツール開発・テストの容易さ。dev server / エミュレータの有無 | 全Mode |

#### OP: Operations

**責務: 運用性** — デプロイ・バージョニング・スケール・マルチテナント

| ID | 項目 | 評価内容 | Mode適用 |
|----|------|---------|---------|
| OP-01 | デプロイモデル | マネージドクラウド / セルフホスト / ライブラリ組み込みの選択肢 | platform, server |
| OP-02 | ツールバージョニング | ツール定義のバージョン管理。既存のエージェントを壊さないアップデート | 全Mode |
| OP-03 | スケーラビリティ | 大量の同時ツール呼び出しへの対応。コネクションプール・レート制限の管理 | platform, server |
| OP-04 | マルチテナント | テナント間の認証情報・設定・実行の分離 | platform |
| OP-05 | 障害分離 | あるツール/サービスの障害が他に影響しない設計。サーキットブレーカー | platform, server |

---

## 項目数サマリ

| カテゴリ | 項目数 |
|---------|--------|
| TC | 4 |
| SC | 5 |
| AU | 6 |
| SF | 6 |
| EX | 4 |
| CM | 4 |
| IT | 4 |
| OB | 4 |
| DX | 5 |
| OP | 5 |
| **合計** | **47** |

---

## 評価テンプレート

### 前提パラメータ

| パラメータ | 値 |
|-----------|-----|
| Primary Mode | |
| Secondary Components | |
| Integration Targets | |
| Auth Complexity | |
| Agent Framework | |
| Deployment | |
| Scale | |
| Trust Boundary | |
| Language | |

### Good（⭐⭐⭐ 以上）

| カテゴリ | ID | 項目 | Composio | Arcade | MCP (直接) | Evidence (成功率/Latency/Conditions) | 備考（Doc / Repro / Evidence） |
|---------|-----|------|----------|--------|-----------|-------------------------------------|-------------------------------|
| TC | TC-01 | ツールカタログ / 発見 | | | | | |
| ... | ... | ... | ... | ... | ... | ... | ... |

### Not Good（⭐⭐ 以下）

| カテゴリ | ID | 項目 | Composio | Arcade | MCP (直接) | Evidence (成功率/Latency/Conditions) | 備考（Doc / Repro / Evidence） |
|---------|-----|------|----------|--------|-----------|-------------------------------------|-------------------------------|
| ... | ... | ... | ... | ... | ... | ... | ... |

### N/A（該当Modeでスコープ外）

| カテゴリ | ID | 項目 | 対象 | 理由 |
|---------|-----|------|------|------|
| AU | AU-01 | 認証フロー管理 | MCP (protocol) | プロトコル仕様の責務外 |
| ... | ... | ... | ... | ... |

> **注**: N/A項目はスコア集計の分母から除外する。N/Aが多いことは低評価を意味しない。

---

## 注記

### 備考の記入ルール

評価の再現性を担保するため、備考には以下を可能な限り含める:

- **Doc**: 該当するドキュメントページ
- **Repro**: 検証に使ったコマンド / スクリプト / リポジトリ
- **Evidence**: スクリーンショット / ログ出力 / テスト結果

**EX-01については定量Evidenceが必須**（前述の「EX-01 必須Evidence」セクション参照）。

### Modeの選択ガイド

同一製品でも評価の文脈によってModeが変わりうる:

| 例 | Primary Mode | Secondary Components | 理由 |
|-----|------|------|------|
| MCP Specificationを仕様として評価 | `protocol` | — | プロトコル設計の品質を見る |
| Composioをツール統合SaaSとして評価 | `platform` | — | マネージドサービスとしての品質を見る |
| MCP Server (GitHub)を単体で評価 | `server` | — | 個別コネクタの実装品質を見る |
| LangChain Toolsを組み込みで評価 | `embedded` | — | フレームワーク内ツール層の品質を見る |
| ComposioのMCP対応度を評価 | `platform` (IT-01で評価) | — | プラットフォームのMCP準拠度として見る |
| Composio + 自社MCP Server + LangGraphの統合評価 | `platform` (Composio) | 自社MCP Server=`server`, LangGraph=`embedded` | Primary対象の品質にフォーカスし、Secondary側の問題で減点しない |

### MCPの評価について

MCPはプロトコル仕様であり、プロダクトではない。評価には2つの側面がある:

1. **MCP対応ツールの評価**: Composio / Arcade等がMCPにどれだけ準拠しているか（IT-01で評価）
2. **MCP直接利用の評価**: MCP Server群を直接利用する場合の品質（個別サーバーの品質にばらつきが大きい）

MCP直接利用を評価する場合、以下に注意:
- 公式MCP Serverと非公式の品質差が大きい
- 認証管理がMCPプロトコル外（`protocol` Modeでは AU項目がN/Aとなる。`server` Modeでは低スコアとなりやすいが、これはプロトコルの瑕疵ではなく実装の責務）
- Composio/Arcade はMCPの「認証・権限の不足」を埋めるレイヤーとして機能する

### Durable Execution評価マスタとの組み合わせ

Tool統合レイヤーは単体で使われることは少なく、通常はAgent FrameworkやDEランタイムと組み合わせて使われる。
そのため、以下の交差的な関心事は本マスタではなく、統合レポートで評価する:

| 交差的関心事 | 責務の所在 |
|-------------|-----------|
| ツール呼び出しの永続化・リトライ | DE評価マスタ (AI-06) |
| ツール実行結果のReplay | DE評価マスタ (EX-07) |
| LLMのツール選択ロジック | Agent Framework評価マスタ |
| ツール呼び出しのE2Eトレース | Observability統合レポート |

### 項目別の段階定義について

以下の項目には項目固有の段階定義がある。これらはTool統合において「採点者間で解釈が割れやすい」項目に限定して設けている。

| 項目 | 段階定義の有無 | 備考 |
|------|-------------|------|
| AU-01 認証フロー管理 | あり | — |
| AU-06 Credential Boundary | あり | v2で追加 |
| SF-01 権限スコープ | あり | — |
| SF-06 Egress / Domain制御 | あり | v2で追加 |
| IT-01 MCP準拠 | あり | v2でコア/拡張に再構成 |

### 重複項目の責務境界

| 重複しやすい組 | 責務の切り分け |
|--------------|--------------|
| AU-05 権限委譲 ↔ SF-01 権限スコープ | AU-05は「認証技術としての委譲」、SF-01は「実行ポリシーとしての制限」 |
| AU-06 Credential Boundary ↔ AU-05 権限委譲 | AU-06は「実行主体の特定・分離」、AU-05は「委譲された権限の範囲」 |
| EX-01 呼び出し信頼性 ↔ DE AI-06 | EX-01は「ツール側の信頼性」、AI-06は「DEランタイムによる保護」 |
| OB-03 監査ログ ↔ SF-05 実行ログ | OB-03は「運用者が見る可視性」、SF-05は「セキュリティ・コンプライアンス要件」 |
| SF-06 Egress制御 ↔ SF-01 権限スコープ | SF-06は「通信先の制限」、SF-01は「ツール/アクション粒度の実行制限」 |
| SC-05 Spec↔Runtime適合 ↔ SC-03 スキーマ進化 | SC-05は「仕様と実装のズレの検知」、SC-03は「仕様変更時の後方互換性」 |

### ツール固有の項目について

マスタにない項目が検証で発見された場合:
1. まずマスタの既存項目に該当しないか確認
2. 該当しない場合、適切なカテゴリにIDを振って追加
3. 他ツールでも該当する汎用的な項目であること

### 評価の更新ルール

- 検証時点のバージョンを記録する
- 後から再検証した場合は上書きし、変更履歴を残す
- 未検証の項目は「-」（ハイフン）で埋める
- マスタの項目追加履歴: SC-05, AU-06, SF-06 を v2 で追加（計+3項目）

### 将来拡張候補

| カテゴリ案 | 内容 | 保留理由 |
|-----------|------|---------|
| PF: Performance | レイテンシ、スループット、コネクションプール | ツール側のパフォーマンスは対象APIに依存する部分が大きい |
| ML: Multi-Language | 多言語SDK対応 | 現時点ではPython / TypeScriptが主流で差が出にくい |
| EC: Ecosystem | コミュニティ規模、サードパーティ統合数 | 定量化しにくく、TC-03と重複する |
